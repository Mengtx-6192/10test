<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .box{
            float: left;
        }
        .dv{
            float: left;
            background-color: orange;
            border-radius: 10px;
            padding: 0 5px;
        }
        #dis,#dis1,.txt{
            width: 100px;
            height: 100px;
            background-color: Pink;
        }
        #dis1{
            background-color: yellow;
        }
        .txt{
            background-color: orange;
        }
        .current{
            background-color: #CC66CC;
        }
        .box{
           color: pink;
        }
    </style>
</head>

<body>
    <div class="box">现在是北京时间：</div>
    <div class="dv">
        <span id="year" class="hour"></span>
        <span id="month" class="hour minute"></span>
        <span id="dates" class="hour"></span>
        <span id="hour" class="hour minute"></span>
        <span id="minute" class="hour"></span>
        <span id="seconds" class="hour minute"></span>
    </div></br>
    <input type="button" value="女孩" id="btn1"> </br>
    <input type="button" value="开关灯" id="btn2"></br>
    <input type="button" value="提交" id="btn3">
    <input type="text" value="" id="txt"></br>
    <input type="button" value="显示日期" id="btn4">
    <input type="text" value="" id="txt1"></br>

    <select name="" id="pro" onchange="getCitys()">
        <option value=0>江苏</option>
        <option value=1>浙江</option>
        <option value=2>安徽</option>
    </select>
    <select name="" id="city">
    </select>
    <div id="dis">禁止选取禁止选取</div>
    <div id="dis1">禁止复制禁止复制</div>
    <div class="txt">鼠标在上时，背景颜色修改为#CC66CC</div>
    <script>
        // //   一、 给定一个字符串例如:
        // // “abaasdffggghhjjkkgfddsssss3444343”;问题如下: 
        var str = "abasdfggghhjjgdsss33";
        // 1、 字符串的字节长度 
        console.log(str.length);
        // 2、 取出指定位置的字符，如:0,3,5,9等 
        console.log(str.charAt(0));
        console.log(str.charAt(3));
        console.log(str.charAt(5));
        console.log(str.charAt(9));
        // 3、 查找指定字符是否在以上字符串中存在，如:i，c ，b等 
        console.log(str.indexOf("i"));
        console.log(str.indexOf("c"));
        console.log(str.indexOf("b"));
        // 4、 替换指定的字符，如:g替换为22,ss替换为b等操作方法 
        console.log(str.replace("g", "22"));
        console.log(str.replace("ss", "b"));
        // 5、 截取指定开始位置到结束位置的字符串，如:取得4-9的字符串 
        console.log(str.slice(4, 9));
        // 6、 找出以上字符串中出现次数最多的字符和出现的次数 

        //遍历str，统计每个字符出现的次数
        var obj = {};
        for (var i = 0, length = str.length; i < length; i++) {
            //当前第i个字符
            var char = str.charAt(i);
            //char就是对象obj的一个属性，obj[char]是属性值，存储出现的次数
            if (obj[char]) { //如果char属性存在，属性值+1 
                obj[char]++; //次数加1
            } else { //char属性不存在为1（即字符第一次出现） 
                obj[char] = 1; //若第一次出现，次数记为1
            }
        }
        console.log(obj);
        //遍历对象，找到出现次数最多的字符和次数
        var max = 0; //存储出现次数最多的次数
        var maxChar = null; //存储出现次数最多的字符
        for (var key in obj) {
            if (max < obj[key]) {
                max = obj[key]; //max始终储存次数最大的那个
                maxChar = key; //那么对应的字符就是当前的key
            }
        }
        console.log("最多的字符是" + maxChar);
        console.log("出现的次数是" + max);

        // 7、 遍历字符串，并将遍历出的字符两头添加符号“@”输出至当前的文档页面。
        var strobj = "";
        for (var i = 0, length = str.length; i < length; i++) {
            document.write("@" + str[i] + "@")

        }

        // 二、 根据当前日期进行以下方面的处理: 
        // 1、 取得日期的年份、月份、天、时、分、秒，并转换成大写日期格式 
        // 如:2013年8月17日0时30分20秒 
        function getnowTime() {
            var date = new Date();
            var year = date.getFullYear();
            var month = date.getMonth() + 1;
            var dates = date.getDate();
            var hour = date.getHours();
            var minute = date.getMinutes();
            var second = date.getSeconds();
            return year + "年" + month.toString().padStart(2, "0") + "月" + dates.toString().padStart(2, "0") + "日" +
                hour.toString().padStart(2, "0") + "时" + minute.toString().padStart(2, "0") + "分" + second.toString().padStart(
                    2, "0") + "秒"
        }
        document.write(getnowTime());

        // 2、 根据日期的不同时间段，做问候语: 
        // 早上8:00-12:00 :“早上好～欢迎登陆系统” 
        // 中午12:00-14:00:“中午好～该休息了” 
        // 下午14:00-18:00:“下午好～欢迎登陆系统” 
        // 晚上19:00-00:00:“晚上好～XXXXXXXXX” 
        // var date = new Date();
        // var hour = date.getHours();
        // console.log(hour);
        // if (hour <12 && hour >=8) {
        // 	alert('早上好～欢迎登陆系统');
        // } else if (hour <=14 && hour >=12) {
        // 	alert('中午好～该休息了');
        // }  else if (hour <=24 && hour >=19) {
        // 	alert('晚上好～XXXXXXXXX');
        // }

        // 3、 计算当前时间向前、向后的日期，并取出是星期几。 
        function clockTime(num) {
            // 获取当前的毫秒数
            var currentTime = new Date().valueOf();
            // console.log(currentTime);
            // 获取前一天或者后一天的毫秒数
            var aimTime = currentTime + num * 24 * 60 * 60 * 1000;
            // console.log(aimTime)
            lastDay = new Date(aimTime);
            // 获取的是后一天的日期
            // console.log(lastDay)     
            // console.log(lastDay.getDay());    
            var year = lastDay.getFullYear();
            // console.log(year);    
            var month = lastDay.getMonth() + 1;
            // console.log(month);  
            var date = lastDay.getDate();
            // console.log(date);  
            var day = lastDay.getDay();
            // console.log(day);
            return year + "年" + month + "月" + date + "日" + "星期" + day;
        }
        console.log(clockTime(1));
        console.log(clockTime(-1));


        // 1、 函数调用，建立两个函数，一个函数是中学二次函数表达式的计算方法，
        // 另一个函数是给定任意的20个x值，调用前一个函数计算y对应的值，并使用方式输出20个计算结果。 
        // （就是写两个函数，一个函数调用另一个函数）
        function file(x) {
            return x * x + 5;
        }

        function getFile() {
            var num = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]
            for (var i = 0; i < num.length; i++) {
                // var ys = num[i]; 
                var y = file(num[i]);
                console.log(y)
            }
        }
        getFile();


        // 2、 使用二重循环打印9×9乘法表。
        var star = "";
        for (var i = 1; i <= 9; i++) {
            for (var j = 1; j <= i; j++) {
                // star += "☆";
                star += j + "×" + i + "=" + i * j + "\t";
            }
            star += "\n"
        }
        console.log(star)


        // 三、实现二级级联的 
        // 使用JavaScript中变量定义省份及对应的城市，应用Select标签对象
        // 下拉菜单选中效果。也就是说，在省份下拉菜单中，选中一个省份时，在城市下拉菜单中出现对应城市选择内容。
        var arr = new Array();
        arr[0] = "南京,苏州,镇江"
        arr[1] = "杭州,宁波,台州"
        arr[2] = "合肥,芜湖,六安"
        var pro = document.getElementById("pro");
        var city = document.getElementById("city");

        function getCitys() {
            var index = pro.selectedIndex;
            var cityArr = arr[index].split(",");
            city.length = 0;
            //将城市数组中的值填充到城市下拉框中
            for (var i = 0; i < cityArr.length; i++) {
                city[i] = new Option(cityArr[i], cityArr[i]);
                //  console.log(city[i])
            }
        }
        getCitys();

        // 四、
        // 1、 在打开页面时弹出一个确认对话框
        // 2、 显示:“你确定继续浏览吗,”。如果用户点击确定， 
        var num = confirm('你确定继续浏览吗');
        if (num == true) {
            // 则用alert显示信息“欢迎光临～”;
            alert("欢迎光临～");
        } else {
            // 若用户点击取消，则用alert显示信息“欢迎再来～”并使用window.close 关闭页面
            alert("欢迎再来～")
            window.close();
        }

        // 五、
        // 1、 使用循环语句和document.write，依次以h1~h6的6级标题格式在页面中输出6行“欢迎 光临”。
        for (var i = 6; i >= 1; i--) {
            document.write("<h" + i + ">" + "欢迎光临" + "</h" + i + ">")
        }
        // 2、 在页面中showtime的div中显示当前时间。格式如下: 
        // ::。每隔一秒刷新一次。 
        // 提示:使用innerText/innerHTML。 
        var clockObj = getNowDate();
        var year = document.getElementById("year");
        var month = document.getElementById("month");
        var dates = document.getElementById("dates");
        var hour = document.getElementById("hour");
        var minute = document.getElementById("minute");
        var seconds = document.getElementById("seconds");
        ff();
        setInterval(ff, 1000)

        function ff() {
            var clockObj = getNowDate();
            year.innerText = clockObj.year + "年"
            month.innerText = clockObj.month + "月"
            dates.innerText = clockObj.dates + "日"
            hour.innerText = clockObj.hour + ":"
            minute.innerText = clockObj.minutes + ":"
            seconds.innerText = clockObj.seconds
        }

        function getNowDate() {
            var date = new Date();
            var year = date.getFullYear();
            var month = date.getMonth() + 1;
            var dates = date.getDate();
            var day = date.getDay();
            var hours = date.getHours();
            var minutes = date.getMinutes();
            var seconds = date.getSeconds();
            return {
                year: year,
                month: month.toString().padStart(2, '0'),
                dates: dates.toString().padStart(2, '0'),
                hour: hours.toString().padStart(2, '0'),
                minutes: minutes.toString().padStart(2, '0'),
                seconds: seconds.toString().padStart(2, '0'),
            };
        }
        // 六
        // 1、 使用onkeypress事件，在页面按下字符按键时，获取用户按下的按键编号，并在状态栏 
        // 用以下格式显示: 
        // “您刚才所按下的按键为:„”。 
        document.onkeypress = function (e) {
            console.log('您刚才所按下的按键为:' + e.keyCode);
        }
        // 2、 在页面中禁止右键的使用，并在用户点击鼠标右键时使用alert弹出提示
        document.onmousedown = click;

        function click() {
            if (event.button == 2) {
                alert("禁止使用右键")
            }
        }
        // 3、 在页面中使用onselectstart禁止选择操作，并在用户进行选择时使用alert弹出提示信息: 
        // “禁止选取～”。 
        var dis = document.getElementById("dis")
        // console.log(dis)
        dis.onselectstart = function () {
            alert("禁止选取～");

        }
        // 4、 在页面中使用oncopy禁止复制操作，并在用户进行复制时使用alert弹出提示信息:“禁 
        // 止选取～”。 
        document.getElementById("dis1").oncopy = function () {
            alert("禁止复制~")
        };

        // 5、 对页面中txt的div按以下要求设置鼠标事件:鼠标在上时，背景颜色修改为#CC66CC，
        var txt = document.getElementsByClassName("txt")[0];
        txt.onmouseover = function () {
            this.className = "txt current"
        }
        txt.onmouseleave = function () {
            this.className = "txt"
        }
        // 七
        // 1、页面上有一个按钮，点击能弹出一个对话框询问“请问你是女孩吗
        // ,”;如果选择确定，则显示“太好了～”，否则显示“没劲”
        var btn1 = document.querySelector("#btn1");
        btn1.onclick = function () {
            var num = confirm('请问你是女孩吗');
            if (num === true) {
                alert("太好了~");
            } else {
                alert("没劲");
            }
        }
        // 2、页面上有一个按钮，点击后能让网页的背景不停变色 
        var btn2 = document.querySelector("#btn2");
        btn2.onclick = function () {
            document.body.style.background = bg()
        }

        function bg() {
            return '#' + Math.floor(Math.random() * 256).toString(10);
        }

        // 3、页面上有一个按钮及文本框，在文本框中输入邮箱后，点击按钮能进行验证，要求不能为空，且必须包含@和. 
        var btn3 = document.querySelector("#btn3");
        var txt = document.querySelector("#txt");
        btn3.onclick = function () {
            var reg = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/gi;
            var str = txt.value;
            var rel = reg.test(str);
            if (rel) {
                alert("填写正确");
            } else {
                alert("请输入正确的邮箱");
            }
        }
        // 4、页面上有一个按钮，点击后能在文本框内显示出当前系统时间，如下图所示 
        function getTime() {
            var date = new Date();
            var year = date.getFullYear();
            var month = date.getMonth() + 1;
            var dates = date.getDate();
            var hour = date.getHours();
            var minute = date.getMinutes();
            var second = date.getSeconds();
            return year + "-" + month.toString().padStart(2, "0") + "-" + dates.toString().padStart(2, "0") + hour.toString()
                .padStart(2, "0") + ":" + minute.toString().padStart(2, "0") + ":" + second.toString().padStart(2, "0");
        }
        var btn4 = document.querySelector("#btn4");
        var txt1 = document.querySelector("#txt1");
        btn4.onclick = function () {
            txt1.value = getTime();
        }


        var res = [];
        var arr = [{
                name: "ww",
                age: 16,
                scroe: 80
            },
            {
                name: "ls",
                age: 15,
                scroe: 88
            },
            {
                name: "zs",
                age: 13,
                scroe: 90
            },
            {
                name: "dd",
                age: 14,
                scroe: 81
            },
            {
                name: "dd",
                age: 15,
                scroe: 82
            },
            {
                name: "ls",
                age: 13,
                scroe: 95
            }
        ];

        console.log(unique("name", "age", arr));


        function unique(name, age, arr) {
            for (var i = 0; i < arr.length; i++) {
                var repeat = false;
                for (var j = 0; j < res.length; j++) {
                    if (arr[i].name == res[j].name || arr[i].age == res[j].age) {
                        repeat = true;
                        break;
                    }
                }
                if (!repeat) {
                    res.push(arr[i]);
                }
            }
            return res;
        }
    </script>

</body>

</html>