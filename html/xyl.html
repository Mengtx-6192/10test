<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        #showtime {
            width: 500px;
            height: 200px;
            background-color: pink;
            margin: 100px auto;
            font-size: 50px;
            color: black;
            text-align: center;
            line-height: 200px;
        }
    </style>
</head>

<body>
    <form name="form1" action="" method="get">
        <select name="choice" onChange="set_city(this, this.form.city);">
            <option value="0">选择省</option>
            <option value="安徽省">安徽省</option>
            <option value="江苏省">江苏省</option>
        </select>
        <select name="city" id="citys">
            <option value="0">选择城市</option>
        </select>
    </form>

    <div id="showtime"></div>

    <div class="txt"></div>

    <input type="button" value="btnl" id="btn1">
    <input type="button" value="btn2" id="btn2">
    <input type="button" value="btn3" id="btn3">
    <input type="text" id="email">
    <input type="button" value="btn4" id="btn4">
    <input type="text" id="time">
</body>
<script>
    // 第一题
    var str = 'abaasdffggghhjjkkgfddsssss3444343';
    // 1字符串的字节长度
    // console.log(str.length);

    // 2取出指定位置的字符，如:0,3,5,9等
    // console.log(str.charAt(0));

    // 3查找指定字符是否在以上字符串中存在，如:i，c ，b等 
    // console.log(str.indexOf('i',0));找不到返回-1

    // 4替换指定的字符，如:g替换为22,ss替换为b等操作方法 
    // while(str.indexOf('g')!=-1){
    //     str=str.replace('g','v');
    // }
    // console.log(str);

    // 5、 截取指定开始位置到结束位置的字符串，如:取得1-5的字符串
    // console.log(str.substr(1,5));

    // 6、 找出以上字符串中出现次数最多的字符和出现的次数

    // 7、 遍历字符串，并将遍历出的字符两头添加符号“@”输出至当前的文档页面。
    // var arr=[];
    // for(var i=0;i<str.length;i++){
    //     arr=str.split('');
    // }
    // arr=arr.join('@');
    // document.write('@'+arr+'@');

    // 第二题
    // 1、 取得日期的年份、月份、天、时、分、秒，并转换成大写日期格式 
    // 如:2013年8月17日0时30分20秒
    // var date=new Date();
    // var year=date.getFullYear();
    // var month=date.getMonth();
    // var day=date.getDate();
    // var hour=date.getHours();
    // var minute=date.getMinutes();
    // var second=date.getSeconds();
    // hour=hour<10?'0'+hour:hour;
    // minute=minute<10?'0'+minute:minute;
    // second=second<10?'0'+second:second;
    // console.log(year+'年'+month+'月'+day+'日'+hour+'时'+minute+'分'+second+'秒');

    // 2、 根据日期的不同时间段，做问候语:
    // 早上8: 00 - 12: 00 : “早上好～欢迎登陆系统”
    // 中午12: 00 - 14: 00: “中午好～该休息了”
    // 下午14: 00 - 18: 00: “下午好～欢迎登陆系统”
    // 晚上19: 00 - 00: 00: “晚上好～XXXXXXXXX”
    // 注: 你若觉得分的不够细，可以将时间段划分的更细一些。
    // var date = new Date();
    // var hour = date.getHours();
    // hour=hour<10?'0'+hour:hour;
    // hour=parseInt(hour);
    // if(hour>=8&&hour<=12){
    //     console.log('早上好～欢迎登陆系统');
    // }else if(hour>12&&hour<=14){
    //     console.log('中午好～该休息了');
    // }else if(hour>14&&hour<=18){
    //     console.log('下午好～欢迎登陆系统');
    // }else if(hour>19&&hour<=24){
    //     console.log('晚上好～XXXXXXXXX');
    // }

    // 3、 计算当前时间向前、向后的日期，并取出是星期几。 （扩展）

    // 1、 函数调用，建立两个函数，一个函数是中学二次函数表达式的计算方法，另一个函数是给定任意的20个x值，调用前一个函数计算y对应的值，并使用方式输出20个计算结果。 （就是写两个函数，一个函数调用另一个函数）


    // 2、 使用二重循环打印9×9乘法表。
    // var str='';
    // for(var i=1;i<=9;i++){
    //     for(var j=1;j<=i;j++){
    //         document.write(str=j+'x'+i+'='+j*i+'\t');
    //     }
    //     document.write('<br>');
    // }


    // 使用JavaScript中变量定义省份及对应的城市，应用Select标签对象
    // 下拉菜单选中效果。也就是说，在省份下拉菜单中，选中一个省份时，在城市下拉菜单中出现对应城市选择内容。
    cities = new Object();
    cities['安徽省'] = new Array('合肥', '芜湖', '宣城', '黄山', '马鞍山', '巢湖');
    cities['江苏省'] = new Array('南京', '苏州', '宜兴', '泰州', '扬州', '无锡', '常州');
    function set_city(choice, city) {
        var ch, cv;
        var i, count;

        ch = choice.value;
        cv = city.value;

        city.length = 1;

        if (ch == '0') return;
        if (typeof (cities[ch]) == 'undefined') return;

        for (i = 0; i < cities[ch].length; i++) {
            count = i + 1;
            city.options[count] = new Option();
            city.options[count].text = cities[ch][i];
            city.options[count].value = cities[ch][i];
        }
    }


    // 第四题
    // 1、在打开页面时弹出一个确认对话框
    // 2、显示:“你确定继续浏览吗,”。如果用户点击确定， 
    // 则用alert显示信息“欢迎光临～”;若用户点击取消，则用alert显示信息“欢迎再来～”并使用window.close 关闭页面
    // var ready=prompt('你确定继续浏览吗');
    // if(ready!=null){
    //     alert('欢迎光临～');
    // }else{
    //     alert('欢迎再来～');
    //     window.close();
    // }


    // 五、
    // 1、 使用循环语句和document.write，依次以h1~h6的6级标题格式在页面中输出6行“欢迎 光临”。
    // for(var i=1;i<=6;i++){
    //     document.write('<h'+i+'>'+'欢迎光临'+'</h'+i+'>');
    // }

    // 2、 在页面中showtime的div中显示当前时间。格式如下: 
    // ::。每隔一秒刷新一次。 
    // 提示:使用innerText/innerHTML。
    var timer=null;
    var showtime = document.getElementById('showtime');
    getTime();
    function getTime() {
        var date = new Date();
        var hour = date.getHours();
        var minute = date.getMinutes();
        var second = date.getSeconds();
        hour = hour < 10 ? '0' + hour : hour;
        minute = minute < 10 ? '0' + minute : minute;
        second = second < 10 ? '0' + second : second;
        showtime.innerHTML = hour + ':' + minute + ':' + second;
    }
    timer=setInterval(getTime,1000);

    // 五1、 使用onkeypress事件，在页面按下字符按键时，获取用户按下的按键编号，并在状态栏 
    // 用以下格式显示: 
    // “您刚才所按下的按键为:„”。
    // window.onkeypress=function(e){
    //     console.log("您刚才所按下的按键为:"+e.key);
    // }

    // 2、 在页面中禁止右键的使用，并在用户点击鼠标右键时使用alert弹出提示
    // document.onmousedown = function (e) {
    //     if (e.button == 2) {
    //         e.returnValue = false;
    //         alert("禁止");
    //     }
    // }

    // 3、 在页面中使用onselectstart禁止选择操作，并在用户进行选择时使用alert弹出提示信息: 
    // “禁止选取～”。
    // document.onselectstart = function (e) {
    //     e.returnValue = false;
    //     alert("禁止选取～");
    // }

    // 4、 在页面中使用oncopy禁止复制操作，并在用户进行复制时使用alert弹出提示信息:“禁 
    // 止选取～”。
    // document.oncopy = function (e) {
    //     alert("禁止选取～");
    //     return false;
    // }

    // 5、对页面中txt的div按以下要求设置鼠标事件:鼠标在上时，背景颜色修改为#CC66CC
    var txt = document.querySelector(".txt");
    txt.style.width = "100px";
    txt.style.height = "100px";
    txt.style.border = "1px solid red";
    txt.onmouseenter = function () {
        txt.style.backgroundColor = "#CC66CC";
    }
    txt.onmouseleave = function () {
        txt.style.backgroundColor = "";
    }

    // 六 1、页面上有一个按钮，点击能弹出一个对话框询问“请问你是女孩吗,”;如果选择确定，则显示“太好了～”，否则显示“没劲” 
    var btn1 = document.getElementById("btn1");
    btn1.onclick = function () {
        var flag = confirm("请问你是女孩吗");
        if (flag) {
            alert("太好了～");
        } else {
            alert("没劲");
        }
    }

    // 2、页面上有一个按钮，点击后能让网页的背景不停变色
    var btn2 = document.getElementById("btn2");
    btn2.onclick = function () {
        setInterval(function () {
            var num1 = parseInt(Math.random() * 255);
            var num2 = parseInt(Math.random() * 255);
            var num3 = parseInt(Math.random() * 255);
            document.body.style.backgroundColor = "rgb(" + num1 + "," + num2 + "," + num3 + ")";
        }, 1000);
    }

    // 3、页面上有一个按钮及文本框，在文本框中输入邮箱后，点击按钮能进行验证，要求不能为空，且必须包含@和.
    var btn3 = document.getElementById("btn3");
    var email = document.getElementById("email");
    var reg = /[@.]{1,}/;
    btn3.onclick = function () {
        //获取email的value
        var txt = email.value;
        if (txt.length == 0) {
            alert("不能为空")
        } else {
            if (reg.test(txt)) {
                alert('输入成功')
            } else {
                alert('失败必须包含@和.')
            }
        }
    }

    // 4、页面上有一个按钮，点击后能在文本框内显示出当前系统时间，如下图所示 
    var btn4 = document.getElementById("btn4");
    var time = document.getElementById("time");
    btn4.onclick = function () {
        var date = new Date();
        var year = date.getFullYear();
        var month = date.getMonth() + 1;
        var day = date.getDate();
        var hour = date.getHours();
        var minute = date.getMinutes();
        var Second = date.getSeconds();
        time.value = year + "年" + month + "月" + day + "日" + hour + "时" + minute + "分" + Second + "秒";
    }

</script>

</html>